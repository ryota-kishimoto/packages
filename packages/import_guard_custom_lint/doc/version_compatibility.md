# Version Compatibility

## CLI Compatibility Matrix (3-axis: Dart × custom_lint × analyzer)

### Dart 3.4.x, 3.5.x

custom_lint 0.7.5+ requires `pubspec_parse >=1.5.0` which requires Dart `^3.6.0`.
**Not supported.**

### Dart 3.6.0

| custom_lint | analyzer | CLI |
|-------------|----------|-----|
| 0.7.5 | 7.6.0 | ✅ |
| 0.7.6 | 7.6.0 | ✅ |
| 0.8.0 | 7.6.0 | ✅ |
| 0.8.1 | - | - |

0.8.1 requires `analyzer >=8.0.0` which requires Dart `>=3.7.0`.

### Dart 3.7.0, 3.7.2

| custom_lint | analyzer | CLI |
|-------------|----------|-----|
| 0.7.5 | 7.6.0 | ✅ |
| 0.7.6 | 7.6.0 | ✅ |
| 0.8.0 | 7.6.0 | ✅ |
| 0.8.1 | 8.1.1 | ✅ |

### Dart 3.7.3

| custom_lint | analyzer | CLI |
|-------------|----------|-----|
| 0.5.8 | 6.11.0 | ❌ |
| 0.5.11 | 6.11.0 | ❌ |
| 0.6.0 | 6.11.0 | ❌ |
| 0.6.2 | 6.11.0 | ❌ |
| 0.6.3 | 6.11.0 | ❌ |
| 0.6.4 | 6.11.0 | ❌ |
| 0.6.5 | 6.11.0 | ❌ |
| 0.6.7 | 6.11.0 | ❌ |
| 0.6.9 | 6.11.0 | ✅ |
| 0.6.10 | 6.11.0 | ✅ |
| 0.7.0 | 6.11.0 | ✅ |
| 0.7.1 | 7.6.0 | ❌ |
| 0.7.2 | 7.6.0 | ❌ |
| 0.7.3 | 7.6.0 | ❌ |
| 0.7.4 | - | - |
| 0.7.5 | 7.6.0 | ✅ |
| 0.7.6 | 7.6.0 | ✅ |
| 0.8.0 | 7.6.0 | ✅ |
| 0.8.1 | 8.1.1 | ✅ |

### Dart 3.8.3

| custom_lint | analyzer | CLI |
|-------------|----------|-----|
| 0.5.8 | 6.11.0 | ❌ |
| 0.5.11 | 6.11.0 | ❌ |
| 0.6.0 | 6.11.0 | ❌ |
| 0.6.2 | 6.11.0 | ❌ |
| 0.6.3 | 6.11.0 | ❌ |
| 0.6.4 | 6.11.0 | ❌ |
| 0.6.5 | 6.11.0 | ❌ |
| 0.6.7 | 6.11.0 | ❌ |
| 0.6.9 | 6.11.0 | ✅ |
| 0.6.10 | 6.11.0 | ✅ |
| 0.7.0 | 6.11.0 | ✅ |
| 0.7.1 | 7.6.0 | ❌ |
| 0.7.2 | 7.6.0 | ❌ |
| 0.7.3 | 7.6.0 | ❌ |
| 0.7.4 | - | - |
| 0.7.5 | 7.6.0 | ✅ |
| 0.7.6 | 7.6.0 | ✅ |
| 0.8.0 | 7.6.0 | ✅ |
| 0.8.1 | 8.1.1 | ✅ |

### Dart 3.9.2

| custom_lint | analyzer | CLI |
|-------------|----------|-----|
| 0.5.8 | 6.4.1 | ✅ |
| 0.5.11 | 6.4.1 | ✅ |
| 0.6.0 | 6.4.1 | ✅ |
| 0.6.2 | 6.4.1 | ✅ |
| 0.6.3 | 6.4.1 | ✅ |
| 0.6.4 | 6.4.1 | ✅ |
| 0.6.5 | - | - |
| 0.6.7 | - | - |
| 0.6.9 | - | - |
| 0.6.10 | - | - |
| 0.7.0 | - | - |
| 0.7.1 | 7.6.0 | ❌ |
| 0.7.2 | 7.6.0 | ❌ |
| 0.7.3 | 7.6.0 | ❌ |
| 0.7.4 | - | - |
| 0.7.5 | 7.6.0 | ✅ |
| 0.7.6 | 7.6.0 | ✅ |
| 0.8.0 | 7.6.0 | ✅ |
| 0.8.1 | 8.4.0 | ✅ |

### Dart 3.10.7

| custom_lint | analyzer | CLI |
|-------------|----------|-----|
| 0.5.8 | 6.4.1 | ✅ |
| 0.5.11 | 6.4.1 | ✅ |
| 0.6.0 | 6.4.1 | ✅ |
| 0.6.2 | 6.4.1 | ✅ |
| 0.6.3 | 6.4.1 | ✅ |
| 0.6.4 | 6.4.1 | ✅ |
| 0.6.5 | - | - |
| 0.6.7 | - | - |
| 0.6.9 | - | - |
| 0.6.10 | - | - |
| 0.7.0 | - | - |
| 0.7.1 | 7.6.0 | ❌ |
| 0.7.2 | 7.6.0 | ❌ |
| 0.7.3 | 7.6.0 | ❌ |
| 0.7.4 | - | - |
| 0.7.5 | 7.6.0 | ✅ |
| 0.7.6 | 7.6.0 | ✅ |
| 0.8.0 | 7.6.0 | ✅ |
| 0.8.1 | 8.4.0 | ✅ |

### Summary Table (custom_lint 0.7.5+)

| Dart | 0.7.5 | 0.7.6 | 0.8.0 | 0.8.1 |
|------|-------|-------|-------|-------|
| 3.4.x | - | - | - | - |
| 3.5.x | - | - | - | - |
| 3.6.0 | ✅ | ✅ | ✅ | - |
| 3.7.x | ✅ | ✅ | ✅ | ✅ |
| 3.8.x | ✅ | ✅ | ✅ | ✅ |
| 3.9.x | ✅ | ✅ | ✅ | ✅ |
| 3.10.x | ✅ | ✅ | ✅ | ✅ |

**Legend**: ✅ Works | - Version resolution failed

**Minimum Dart version**: 3.6.0 (for 0.7.5-0.8.0) or 3.7.0 (for 0.8.1)

## IDE Compatibility

| custom_lint | analyzer | IDE | CLI | Notes |
|-------------|----------|-----|-----|-------|
| 0.7.5 | 7.6.0 | ✅ | ✅ | |
| 0.7.6 | 7.6.0 | ✅ | ✅ | |
| 0.8.0 | 7.6.0 | ✅ | ✅ | |
| 0.8.1 | 8.4.0 | ✅ | ✅ | |

**IDE + CLI**: 0.7.5〜0.8.1 all work

## Error Details

### custom_lint 0.5.x-0.6.8 + Dart 3.7/3.8: analyzer API incompatible
```
Error: Type 'AugmentationImportDirective' not found.
Error: Type 'LibraryAugmentationDirective' not found.
Error: 'LintCode' is imported from both 'package:analyzer/...' and 'package:custom_lint_core/...'
```
custom_lint 0.5.x-0.6.8 uses analyzer APIs that were changed/removed in Dart 3.7+.

### custom_lint 0.6.5-0.6.10 + Dart 3.9/3.10: Version resolution failed
These versions have dependency constraints that conflict with Dart 3.9/3.10 SDK.

### custom_lint 0.7.0 + Dart 3.9/3.10: SDK macros issue
```
Because _macros from sdk doesn't exist (could not find package _macros in the Dart SDK)
```
analyzer 6.6.0〜6.9.0 requires macros package which depends on `_macros` from SDK.

### custom_lint 0.7.1-0.7.3: analyzer_plugin incompatible
```
Error: The argument type 'Element' can't be assigned to the parameter type 'Element2'.
```
analyzer_plugin 0.12.0 is incompatible with analyzer 7.6.0 due to Element/Element2 API changes.

## Recommended Versions

| custom_lint | IDE Support | CLI Support | Notes |
|-------------|-------------|-------------|-------|
| ^0.7.5 | ✅ | ✅ | **Recommended** |

## analyzer version

This package supports analyzer 7.x to 8.x:

```yaml
dependencies:
  analyzer: ">=7.0.0 <9.0.0"
  custom_lint_builder: ">=0.7.5 <0.9.0"
```

The analyzer version is managed by custom_lint_builder transitively. You typically don't need to specify it directly.

### custom_lint_builder to analyzer version mapping

| custom_lint_builder | analyzer |
|---------------------|----------|
| 0.7.5-0.8.0 | 7.x |
| 0.8.1 | 8.x |

## Monorepo considerations

If you have version conflicts in a monorepo:

1. Ensure all packages use the same custom_lint version
2. Use `flutter pub get` consistently (don't mix with `dart pub get`)
3. Pin exact versions if needed

See [dart-lang/sdk#48925](https://github.com/dart-lang/sdk/issues/48925) for details on monorepo plugin issues.

## SDK compatibility

| SDK | Status |
|-----|--------|
| >=3.6.0 | ✅ Supported |
| 3.4.x, 3.5.x | ❌ Not supported (pubspec_parse requires ^3.6.0) |
| <3.4.0 | ❌ Not supported |

The SDK constraint is `^3.6.0` for custom_lint 0.7.5+.

## Testing Guide

To test different versions:

```yaml
# pubspec.yaml
dev_dependencies:
  custom_lint: ^0.7.5  # Recommended
  import_guard_custom_lint: ^0.0.8
```

Then:
1. `rm pubspec.lock && dart pub get`
2. `dart run custom_lint`
3. Check if warnings are reported in IDE
